{
	"timestamp": "1999-12-30T23:00:00.000Z",
	"inventory": [],
	"location": "dungeon_cell",
	"seconds": 0,
	"steps": 0,
	"hints": 0,
	"locations": {
		"dungeon_cell": {
			"name": "A dungeon cell",
			"description": "A dungeon cell. It is moist and dark, but a weak light shines through a small barred window just below the ceiling.\n\nBecause of the light you see the outlines of the few things in your cell. The door seems very massive.\n\nDirty, half rotten straw is lying on the floor.",
			"objects": [
				"straw",
				"bucket",
				"bed",
				"barred_window",
				"cell_door",
				"trap_door"
			],
			"states": {
				"trapdoor_open": {
					"description":"Your dungeon cell. It is moist and dark. In the weak light of the small barred window, you see an open trap door in the ground among some other things."
				}
			},
			"connections": {}
		},
		"corridor": {
			"name": "A narrow corridor",
			"description": "A narrow corridor. It stretches to the east and to the west, slightly curved.\n\nThe hole in the ceiling with the trap door is too high for you to climb back.\n\nYou hear a faint noise from the west!",
			"additional_description": "There is a burning torch on a mount on the wall, it flickers and casts creepy shadows.",
			"objects": [
				"torch"
			],
			"connections": {
				"east": "forward_corridor",
				"west": "backward_corridor"
			}
		},
		"forward_corridor": {
			"name": "A narrow, dark corridor",
			"description": "A narrow corridor. Comming from the west, it stretches further to the east but ends in a solid stone wall.\nThere is some debris on the floor, but it is to dark to see any details.",
			"objects": [],
			"connections": {
				"west": "corridor"
			}
		},
		"backward_corridor": {
			"name": "A narrow, guarded corridor",
			"description": "A narrow, guarded corridor. Comming from the east, it stretches further to the west, slightly curved.",
			"objects": ["guard", "barrel"],
			"connections": {
				"east": "corridor",
				"west": "entrance_corridor"
			},
			"states": {
				"hidden": {
					"description":"A narrow corridor. It stretches further to the west. You are hidden behind the barrel."
				}
			}
		},
		"entrance_corridor": {
			"name": "Entrance hall",
			"description": "An entrance hall. It stretches to the west, slightly curved. There is a big open portal to the south.\nA bright light is shining through the portal!",
			"objects": [],
			"color": "white",
			"connections": {
				"west": "backward_corridor",
				"east": "backward_corridor",
				"south": "outside"
			}
		},

		"outside": {
			"name": "The outside world",
			"description": "A meadow! Trees! Singing birds! You are back in the outside world.",
			"color": "aquamarine",
			"connections": {
				"north": "entrance_corridor",
				"west": "backward_corridor",
				"south": "outside"
			}
		}
	},
	"objects": {
		"straw": {
			"name": "straw",
			"description": "The straw is dirty, rotten and full with vermin. But underneath you see a trap door in the floor!",
			"portable": false,
			"error_portable": "While touching the rotten straw you feel an iron ring which belongs to a hidden trap door!\nBut it makes no sense to fill your pockets with the straw, so you leave it where it is.",
			"hidden": false,
			"definite_article": "the",
			"indefinite_article": "some",
			"state":"rotten",
			"states": {
				"rotten":{
					"name":"half rotten"
				}
			}
		},
		"bucket": {
			"name": "wooden bucket",
			"description": "A wooden bucket. It appears to be used for... well you can imagine. No other facilities here.",
			"portable": false,
			"error_portable": "Trust me, you DON'T want to carry THAT around! It is nearly full with... you know.",
			"hidden": false,
			"definite_article": "the",
			"indefinite_article": "a",
			"state":"full",
			"states": {
				"full":{
					"name":"full"
				}
			}
		},
		"bed": {
			"name": "bunk bed",
			"description": "Your bunk bed. Comfortable as a wooden board. Maybe due to the fact that it IS a wooden board.\nIt is mounted on the wall.",
			"portable": false,
			"hidden": false,
			"definite_article": "the",
			"indefinite_article": "a"
		},
		"trap_door": {
			"name": "trap door",
			"description": "After removing the straw, you can see a trap door in the floor.",
			"portable": false,
			"hidden": true,
			"definite_article": "the",
			"indefinite_article": "a"
		},
		"cell_door": {
			"name": "cell door",
			"description": "The door is very sturdy. As expected, it is locked.",
			"error_portable": "I can't imagine a reason to carry around a door down here!",
			"portable": false,
			"hidden": false,
			"definite_article": "the",
			"indefinite_article": "a"
		},
		"barred_window": {
			"name": "barred window",
			"description": "It is to high for you, you can't reach it!",
			"portable": false,
			"definite_article": "the",
			"indefinite_article": "a"
		},
		"torch": {
			"name": "torch",
			"description": "The torch is quite bright!",
			"portable": true,
			"state": "burning",
			"states":  { "burning": {
				"name": "burning"
			}},
			"definite_article": "the",
			"indefinite_article": "a"
		},
		"barrel": {
			"name": "barrel",
			"description": "A large barrel, approx. half your height. It is very heavy, it seems to be filled with water.",
			"portable": false,
			"definite_article": "the",
			"indefinite_article": "a"
		},

		"guard": {
			"name": "guard",
			"description": "A big, dim looking guard. Looks like he could eat you for breakfast.",
			"error_portable": "He is not your type!",
			"portable": false,
			"states": {
				"unconscious": {
					"name":"unconscious",
					"description":"A big, dim looking guard. But he is harmless now, due to his unconciousness."
				}
			},
			"definite_article": "the",
			"indefinite_article": "a",
			"person": "true"
		},

		"stone": {
			"name": "stone",
			"description": "A stone the size of a fist.",
			"portable": true,
			"definite_article": "the",
			"indefinite_article": "a",
			"custom_errors": {
				"throw": "Leave it, you throw like a girl. Besides, where do you wanna throw it?"
			}
		}
	},
	"events": {
		"start_event": {
			"name": "Awake",
			"description": "It begins as soon as you wake up, with a searing pain piercing your temples and spreading across your entire head.\nThen comes the sickness, the dry mouth and the sudden panic - all accompanied alongside that phrase, \"never again\".\n\nAs soon as you open your eyes you realize: This is no hangover. Something terrible must have happened.\nYou are not in your bedroom, but in a dark, moist and cold room lying on a hard wooden bunk.\nYou have lost your memories of yesterday, the last thing you remember is... you are not sure WHAT you remember.",
			"action_move_to_location": "dungeon_cell"
		},
		"trapdoor": {
			"name": "Open trapdoor",
			"description": "You open the trap door with its large metal ring. The opening reveals a small corridor below your cell.",
			"trigger_once": true,
			"prereq_verb": "open",
			"prereq_location": "dungeon_cell",
			"prereq_used_items": ["trap_door"],
			"action_new_connections": ["dungeon_cell:down:corridor"],
			"action_set_state_locations": ["dungeon_cell|trapdoor_open"]
		},

		"get_torch": {
			"description": "The torch makes it easier to find your way. The dungeon down here is mostly dark.\nBut you will be seen immediately with the bright torch in your hands.",
			"prereq_verb": "take",
			"prereq_used_items": ["torch"],
			"prereq_not_inventory_items": ["torch"],
			"action_add_items": ["forward_corridor:stone"],
			"action_new_location_description": "There is an empty mount on the wall, scorch marks around it suggest that there has been a lit torch in the mount.",
			"action_continue": true
		},

		"drop_torch": {
			"description": "It is darker around you.",
			"prereq_verb": "drop",
			"prereq_used_items": ["torch"],
			"prereq_inventory_items": ["torch"],
			"action_remove_items": ["torch","forward_corridor:stone"],
			"action_continue": true
		},

		"guard_trigger": {
			"name": "",
			"description": "You see a big guard standing in a corner of the room. He doesn't look into your direction, yet.",
			"prereq_location_items": ["guard|none"],
			"prereq_only_after": true
		},

		"hide_barrel": {
			"description": "You duck and hide behind the barrel. The guard seems to have not yet noticed you.",
			"prereq_location": "backward_corridor",
			"prereq_verb": "hide",
			"prereq_preposition": "behind",
			"prereq_used_items": ["barrel"],
			"action_disable_events": ["guard_trigger","throw_stone_at_guard"],
			"action_set_state_locations": ["backward_corridor|hidden"]
		},

		"unhide_barrel": {
			"description": "You are pretty sure that the guard has not seen you.",
			"prereq_verb": "go",
			"prereq_triggered_events": ["hide_barrel"],
			"prereq_only_after": true,
			"action_untrigger_events": ["hide_barrel", "guard_trigger"],
			"action_enable_events": ["guard_trigger","throw_stone_at_guard"],
			"action_set_state_locations": ["backward_corridor|none"]
		},

		"throw_stone_at_guard_hidden": {
			"description": "You throw the stone at the guard. You hit him on his head and he sinks to the ground.",
			"prereq_location": "backward_corridor",
			"prereq_verb": "throw",
			"prereq_used_items": ["stone","guard"],
			"prereq_inventory_items": ["stone"],
			"prereq_triggered_events":["hide_barrel"],
			"action_disable_events":["arest", "arest_torch"],
			"action_untrigger_events":["hide_barrel"],
			"action_remove_items": ["stone"],
			"action_add_items": ["backward_corridor:stone"],
			"action_set_state_items": ["guard|unconscious"]

		},


		"throw_stone_at_guard": {
			"description": "You try to throw the stone. But the guard is quicker.",
			"prereq_location": "backward_corridor",
			"prereq_verb": "throw",
			"prereq_used_items": ["stone","guard"],
			"prereq_inventory_items": ["stone"],
			"action_trigger_event": "arest",
			"action_remove_item": ["stone"],
			"action_add_items": ["backward_corridor:stone"]
		},

		"arest": {
			"name": "The guard arests you!",
			"description": "The guard points his sword into your direction. \"You! Don't move!\" he barks.\n\nYou stand still. He grabs your arm with his free hand and turns you around in a swift movement.\nAfterwards he hits you with his sword handle on the back of your head.\n\nAgain, it gets dark around you when you loose consciousness...",
			"prereq_location": "backward_corridor",
			"prereq_triggered_events": ["guard_trigger"],
			"prereq_triggered_event_step_offset": 2,
			"prereq_location_items": ["guard|none"],
			"action_move_to_location": "dungeon_cell",
			"action_untrigger_events":["guard_trigger"]
		},

		"arest_torch": {
			"name": "",
			"description": "The guard looks at your burning torch, baffled.",
			"prereq_location": "backward_corridor",
			"prereq_inventory_items": ["torch"],
			"action_trigger_event": "arest"
		},

		"arest_go_west": {
			"name": "",
			"prereq_verb": "go",
			"prereq_location": "backward_corridor",
			"description": "You try to sneak away...",
			"prereq_location_items": ["guard|none"],
			"prereq_only_before": true,
			"action_trigger_event": "arest"
		},

		"end_event": {
			"description": "You managed to find out of the dungeon! Congratulations. The game is now over.",
			"prereq_location": "outside"

		},
		"demo": {
			"name": "Demo event to demonstrate the event system.",
			"comment": "This comment is for describing this object, it is not displayed in the game.",
			"description": "This is the demo event! Just for testing purposes...",
			"prereq_verb": "switch",
			"prereq_location": "",
			"prereq_used_items": [],
			"prereq_location_items": [],
			"prereq_inventory_items": [],
			"prereq_preposition": "on",
			"prereq_min_steps": 0,
			"prereq_max_steps": 0,
			"prereq_triggered_event_step_offset": 0,
			"prereq_triggered_events": [],
			"prereq_visited_locations": [],
			"prereq_only_before": false,
			"prereq_only_after": false,
			"action_add_items": [""],
			"action_remove_items": [""],
			"action_set_state_locations": [],
			"action_move_to_location": "",
			"action_new_connections": "",
			"action_disable_events": [],
			"action_untrigger_events": [],
			"action_trigger_event": "",
			"action_enable_events": []
		}
	}
}